<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
	<head>
		<meta charset="UTF-8">
		<title>Sistema de Estoque</title>
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" 
		rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" 
		crossorigin="anonymous">
		<style> body {padding-top: 4.5rem;} </style>
	</head>
	<body>
		<div th:replace="fragments/menu :: menu"></div>
		<div class="container">
			<div class="bg-light p-5 rounded">
				<h1>Estoque</h1>
				<hr>
				<table id="table" class="table table-hover">
					<thead id="thead"> 
						<tr>
							<td><b>PRODUTO</b></td>
							<td><b>QUANTIDADE</b></td>
						</tr>
					</thead>
					 <tbody id="tbody"></tbody>
				</table>
			</div>
		</div>
		
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" 
		integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
		
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" 
		integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" 
		crossorigin="anonymous" referrerpolicy="no-referrer"></script>
		
		<script>
			$(document).ready(function(){
				$.ajax({
					method: "GET",
					url: "http://localhost:8080/api/stock",
				}).done(function(data){
					for(var i = 0 ; i < data.length; i++ ){
						$("#tbody").append("<tr><td>" + data[i].produto.nomeProduto + "</td><td>" + data[i].quantidade+ "</td></tr>");
					}
				});
			});
		</script>
	</body>
</html>