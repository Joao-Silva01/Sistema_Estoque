<!DOCTYPE html>
<html xmlns:th="http://www.thymeLeaf.org">
	<head>
	<title>Sistema de Estoque</title>
	<meta charset="UTF-8">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" 
	rel="stylesheet" 
	integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" 
	crossorigin="anonymous">
	<style> body{ padding-top: 4.5rem; } </style>
	</head>
	<body>
		
		<div th:replace="fragments/menu :: menu"></div>
		
		<div class="container">
			<div class="bg-light p-5 rounded">
				<h1>Produtos</h1>
				<hr>
				<div>
					<a class="btn btn-primary" th:href="@{/products/novo}">Novo Produto</a>
				</div>
				<hr>
				<div th:if="${!#strings.isEmpty(feedback)}"
				class="alert alert-success" role="alert">
				<span th:text="${feedback}"></span>
				</div>
				<table class="table table-hover">
					<thead>
						<td><b>Produto</b></td>
						<td><b>Categoria</b></td>
						<td></td>
						<td></td>
					</thead>
					<tbody>
						<tr th:each="product : ${products}">
							<td th:text="${product.nomeProduto}"></td>
							<td th:text="${product.categoria}"></td>
							<td>
								<a class="btn btn-sm btn-secondary"
								th:href="@{/products/edit/{id}(id=${product.id})}">Editar</a>
							</td>
							<td>
								<a th:href="@{/products/ativa/{id}(id=${product.id})}" 
								class="btn btn-sm btn-secondary" 
								th:if="${product.ativo == false}">Ativar</a>
								<a th:href="@{/products/inativa/{id}(id=${product.id})}"
								class="btn btn-sm btn-secondary" 
								th:unless="${product.ativo == false}">Inativar</a>
							</td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
	</body>
</html>